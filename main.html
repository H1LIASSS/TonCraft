<!DOCTYPE html>

<head>
    <title>TonCraft</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="content/logotype.png" />
    <link rel="stylesheet" href="css/defaultvalues.css">
    <link rel="stylesheet" href="css/main.css">

    <html lang=userLang>

    <style>

    </style>
</head>

<body style='background-color: rgba(48, 27, 70, 0.899);'>
    <!-- <div class="stars">
        <script src="js/stars.js"></script> -->

    <nav id="navbar" class="hideOnMobile">
        <div class='nav-buttons'>
            <!-- TODO: add functionality -->
            <div class="lang-change">
                <img src="./content//languages/correctUK.png" alt="">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="white">
                    <path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z" />
                </svg> -->
            </div>

            <!-- <button class="btn" id="lang" , onclick="changeLanguange()">EN</button> -->
            <!-- <div class="dropdown">
                <button class="dropbtn nav-btn"> </button>
                <div class="dropdown-content">
                    <a href="#" , onclick="location.href='./earn.html'" \>Earn</a>
                    <a href="#" , onclick="location.href='./partners.html'" \>Partners</a>
                </div>
            </div> -->
            <button class="nav-btn">Other</button>
            <button class="nav-btn" , onclick="location.href='./donate.html'">Donate</button>
        </div>
        <div id='logo'>TonCraft</div>
        <div class='nav-buttons nav-end'>
            <button class="nav-btn" , onclick="location.href='./map.html'">Map</button>
            <!-- <button class="nav-btn" , onclick="location.href='./earn.html'">Earn</button> -->
            <!-- login button -->
            <button id="mLogin-btn" class="btn" onclick="connectAccount()">Connect</button>

            <!-- personal cabinet button -->
            <a class="pc-container hide" href="./personalCabinet.html">
                <img src="./content/skin-icon.png" alt="" class="skin-icon">
                <p id="pc-name">Hutsul</p>
                <div class="pc-balance">
                    <img src="./content/dollar.png" class="currency-img" alt="">
                    <p id="pc-balance-val">69</p>
                </div>
            </a>
        </div>
    </nav>

    <!-- buttons to toggle sidebar -->
    <svg class="sidebar-btn hideOnDesktop" id="menuIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"
        onclick="toggleSidebar()">
        <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z" />
    </svg>

    <svg class="sidebar-btn hideOnDesktop" onclick="toggleSidebar()" id="closeIcon" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 -960 960 960" style="display: none;">
        <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" />
    </svg>

    <!-- sidebar which is shown on mobile devices: -->
    <nav id="sidebar" style="display: none;" class="hideOnDesktop">
        <button class="sidebar-btn-container nav-btn" , onclick="location.href='./donate.html'"
            style="margin-top: 20px;">Donate</button>
        <button class="sidebar-btn-container nav-btn" , onclick="location.href='./map.html'">Map</button>
        <button class="sidebar-btn-container nav-btn" , onclick="location.href='./earn.html'">Earn</button>
        <!-- <div class="dropdown">
            <button class="dropbtn">Other</button>
            <div class="dropdown-content">
                <a href="#" , onclick="location.href='./earn.html'" \>Earn</a>
                <a href="#" , onclick="location.href='./partners.html'" \>Partners</a>
            </div>
        </div> -->

        <img src="./content//languages/correctUK.png"
            style="height: 40px; width: auto; margin-top: auto; margin-bottom: 10px;" alt="">
        <!-- <button class="btn" style="margin-top: auto;" id="lang" , onclick="changeLanguange()">EN</button> -->
    </nav>

    <!-- TODO: work on the onhover func & move-up-down class -->
    <!-- <div id="earth-container" class="">
        <img id='earth' src="content/earth.png" , onhover="func()" , class="move-up-down" />
    </div> -->

    <!-- desktop nav bar: -->


    <script>
        let menuIcon = document.getElementById("menuIcon");
        let closeIcon = document.getElementById("closeIcon");
        let sidebar = document.getElementById("sidebar");
        let isSidebar = false;
        var userLang = navigator.language || navigator.userLanguage;
        var online = 0;
        if (userLang != "ru")
            userLang = "en";

        function toggleSidebar() {
            if (isSidebar) {
                closeIcon.style.display = "none";
                menuIcon.style.display = "block";
                sidebar.style.display = "none";
            }
            else {
                menuIcon.style.display = "none";
                closeIcon.style.display = "block";
                sidebar.style.display = "flex";
            }
            isSidebar = !isSidebar;
        }

        function closeSidebar() {
            menuIcon.style.display = "block";
            closeIcon.style.display = "none";
            sidebar.style.display = "none";
            isSidebar = false;
        }

        function handleWidthChange(e) {
            if (e.matches) { // Screen width is more than 1200px
                closeSidebar();
            }
        }
        const mediaQuery = window.matchMedia("(min-width: 1201px)")
        mediaQuery.addEventListener('change', handleWidthChange);
    </script>
</body>

</html>